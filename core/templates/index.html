<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
      <!-- Required meta tags -->
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
      <meta content="Codescandy" name="author" />

      {% if web_page.meta_description %}
       <meta name="description" content="{{ web_page.meta_description }}">
       {% endif %}
       {% if web_page.keywords %}
       <meta name="keywords" content="{{ web_page.keywords }}">
       {% endif %}
      
      {% block title %}
      <title>iHome Luxury Mall</title>
      {% endblock %}

      <link href="{% static 'assets/libs/slick-carousel/slick/slick.css' %}" rel="stylesheet" />
      <link href="{% static 'assets/libs/slick-carousel/slick/slick-theme.css' %}" rel="stylesheet" />
      <link href="{% static 'assets/libs/tiny-slider/dist/tiny-slider.css' %}" rel="stylesheet" />

      <!-- Favicon icon-->
      <link rel="shortcut icon" type="image/x-icon" href="{% static 'assets/images/favicon/favicon.ico' %}" />

      <!-- Libs CSS -->
      <link href="{% static 'assets/libs/bootstrap-icons/font/bootstrap-icons.min.css' %}" rel="stylesheet" />
      <link href="{% static 'assets/libs/feather-webfont/dist/feather-icons.css' %}" rel="stylesheet" />
      <link href="{% static 'assets/libs/simplebar/dist/simplebar.min.css' %}" rel="stylesheet" />

      <!-- Theme CSS -->
      <link rel="stylesheet" href="{% static 'assets/css/theme.min.css' %}" />


      <style type="text/css">
         input[type="number"]::-webkit-inner-spin-button,
         input[type="number"]::-webkit-outer-spin-button {
             -webkit-appearance: none;
             margin: 0;
         }

         input[type="number"] {
             -moz-appearance: textfield;
         }

         .wishlist-btn.active {
             color: white;
             background-color: green;
             border-color: green;
         }
      </style>
      <style>
        .star-container {
            display: inline-block;
            position: relative;
            font-size: 2em; /* Adjust the size as needed */
            line-height: 1;
        }

        .star-container::before {
            content: '★★★★★';
            position: absolute;
            top: 0;
            left: 0;
            width: var(--star-width, 0); /* This will be dynamically set */
            overflow: hidden;
            color: gold; /* Color of the filled stars */
            white-space: nowrap;
        }

        .stars-background {
            color: gray; /* Color of the empty stars */
        }


        .star-rating {
            direction: ltr; /* Right-to-left layout for correct star selection */
            display: inline-block;
        }

        .star-rating .bi-star-fill {
            font-size: 24px;
            cursor: pointer;
            color: #ccc;
        }

        .star-rating .bi-star-fill.selected {
            color: #f39c12;
        }
    </style>
   </head>

   <body>
      <!-- navbar -->
      <div class="border-bottom">
         <div class="bg-light py-1">
            <div class="container">
               <div class="row">
                  <div class="col-md-6 col-12 text-center text-md-start"><span>Super Value Deals - Save more with coupons</span></div>
                  <div class="col-6 text-end d-none d-md-block">
                     <div class="dropdown selectBox">
                        <a class="dropdown-toggle selectValue text-reset" href="javascript:void(0)" data-bs-toggle="dropdown" aria-expanded="false">
                           
                           support@ihomeluxurymall.com.ng
                        </a>

                        <ul class="dropdown-menu">
                           
                           
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="py-5">
            <div class="container">
               <div class="row w-100 align-items-center gx-lg-2 gx-0">
                  <div class="col-xxl-2 col-lg-3 col-md-6 col-5">
                     <a class="navbar-brand d-none d-lg-block" href="/">
                        {% if web_page.logo %}
                        <img src="{{ web_page.logo.url }}" alt="Logo" class="logo-img" style="width: 100px;">
                       {% else %}
                           <span class="logo-placeholder">Logo Here</span>
                       {% endif %}
                     </a>
                     <div class="d-flex justify-content-between w-100 d-lg-none">
                        <a class="navbar-brand" href="index.html">
                           {% if web_page.logo %}
                           <img src="{{ web_page.logo.url }}" alt="Logo" class="logo-img" style="width: 100px;">
                          {% else %}
                              <span class="logo-placeholder">Logo Here</span>
                          {% endif %}
                        </a>
                     </div>
                  </div>
                  <div class="col-xxl-5 col-lg-5 d-none d-lg-block">
                     <form action="#">
                        <div class="input-group">
                           <input class="form-control rounded" type="search" placeholder="Search for products" />
                           <span class="input-group-append">
                              <button class="btn bg-white border border-start-0 ms-n10 rounded-0 rounded-end" type="button">
                                 <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="16"
                                    height="16"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="feather feather-search">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                 </svg>
                              </button>
                           </span>
                        </div>
                     </form>
                  </div>
                  <div class="col-md-2 col-xxl-3 d-none d-lg-block">
                     <!-- Button trigger modal -->
                     <!-- something here -->
                  </div>
                  <div class="col-lg-2 col-xxl-2 text-end col-md-6 col-7">
                     <div class="list-inline">
                        <div class="list-inline-item me-5">
                           <a href="/wishlist" class="text-muted position-relative">
                              <svg
                                 xmlns="http://www.w3.org/2000/svg"
                                 width="20"
                                 height="20"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-heart">
                                 <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                              </svg>
                              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success" id="wishlistCount">
                                 0
                                 <span class="visually-hidden">unread messages</span>
                              </span>
                           </a>
                        </div>
                        <div class="list-inline-item me-5">
                           <a href="#!" class="text-muted" data-bs-toggle="modal" data-bs-target="#userModal">
                              <svg
                                 xmlns="http://www.w3.org/2000/svg"
                                 width="20"
                                 height="20"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-user">
                                 <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                 <circle cx="12" cy="7" r="4"></circle>
                              </svg>
                           </a>
                        </div>
                        <div class="list-inline-item me-5 me-lg-0">
                           <a class="text-muted position-relative" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" href="#offcanvasExample" role="button" aria-controls="offcanvasRight">
                              <svg
                                 xmlns="http://www.w3.org/2000/svg"
                                 width="20"
                                 height="20"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-shopping-bag">
                                 <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                 <line x1="3" y1="6" x2="21" y2="6"></line>
                                 <path d="M16 10a4 4 0 0 1-8 0"></path>
                              </svg>
                              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success" id="cartIconBarge">
                                 0
                                 
                              </span>
                           </a>
                        </div>
                        <div class="list-inline-item d-inline-block d-lg-none">
                           <!-- Button -->
                           <button
                              class="navbar-toggler collapsed"
                              type="button"
                              data-bs-toggle="offcanvas"
                              data-bs-target="#navbar-default"
                              aria-controls="navbar-default"
                              aria-label="Toggle navigation">
                              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-text-indent-left text-primary" viewBox="0 0 16 16">
                                 <path
                                    d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708zM7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z" />
                              </svg>
                           </button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>

         <nav class="navbar navbar-expand-lg navbar-light navbar-default py-0 pb-lg-4" aria-label="Offcanvas navbar large">
            <div class="container">
               <div class="offcanvas offcanvas-start" tabindex="-1" id="navbar-default" aria-labelledby="navbar-defaultLabel">
                  <div class="offcanvas-header pb-1">
                     <a href="index.html"><img src="assets/images/logo/freshcart-logo.svg" alt="eCommerce HTML Template" /></a>
                     <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                  </div>
                  <div class="offcanvas-body">
                     <div class="d-block d-lg-none mb-4">
                        <form action="#">
                           <div class="input-group">
                              <input class="form-control rounded" type="search" placeholder="Search for products" />
                              <span class="input-group-append">
                                 <button class="btn bg-white border border-start-0 ms-n10 rounded-0 rounded-end" type="button">
                                    <svg
                                       xmlns="http://www.w3.org/2000/svg"
                                       width="16"
                                       height="16"
                                       viewBox="0 0 24 24"
                                       fill="none"
                                       stroke="currentColor"
                                       stroke-width="2"
                                       stroke-linecap="round"
                                       stroke-linejoin="round"
                                       class="feather feather-search">
                                       <circle cx="11" cy="11" r="8"></circle>
                                       <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                    </svg>
                                 </button>
                              </span>
                           </div>
                        </form>
                        <!-- <div class="mt-2">
                           <button type="button" class="btn btn-outline-gray-400 text-muted w-100" data-bs-toggle="modal" data-bs-target="#locationModal">
                              <i class="feather-icon icon-map-pin me-2"></i>
                              Pick Location
                           </button>
                        </div> -->
                     </div>
                     <div class="d-block d-lg-none mb-4">
                        <a
                           class="btn btn-primary w-100 d-flex justify-content-center align-items-center"
                           data-bs-toggle="collapse"
                           href="#collapseExample"
                           role="button"
                           aria-expanded="false"
                           aria-controls="collapseExample">
                           <span class="me-2">
                              <svg
                                 xmlns="http://www.w3.org/2000/svg"
                                 width="16"
                                 height="16"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="1.5"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-grid">
                                 <rect x="3" y="3" width="7" height="7"></rect>
                                 <rect x="14" y="3" width="7" height="7"></rect>
                                 <rect x="14" y="14" width="7" height="7"></rect>
                                 <rect x="3" y="14" width="7" height="7"></rect>
                              </svg>
                           </span>
                           All Categories
                        </a>
                        <div class="collapse mt-2" id="collapseExample">
                           <div class="card card-body">
                              <ul class="mb-0 list-unstyled">
                                 {% for category in trending_categories %}
                                 <li><a class="dropdown-item" href="">{{ category.name }}</a></li>
                                 {% endfor %}
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="dropdown me-3 d-none d-lg-block">
                        <button class="btn btn-primary px-6" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                           <span class="me-1">
                              <svg
                                 xmlns="http://www.w3.org/2000/svg"
                                 width="16"
                                 height="16"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="1.2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-grid">
                                 <rect x="3" y="3" width="7" height="7"></rect>
                                 <rect x="14" y="3" width="7" height="7"></rect>
                                 <rect x="14" y="14" width="7" height="7"></rect>
                                 <rect x="3" y="14" width="7" height="7"></rect>
                              </svg>
                           </span>
                           All Categorries
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                           {% for category in trending_categories %}
                              <li><a class="dropdown-item" href="">{{ category.name }}</a></li>
                           {% endfor %}
                        </ul>
                     </div>
                     <div>
                        <ul class="navbar-nav align-items-center">
                           <li class="nav-item dropdown w-100 w-lg-auto">
                              <a class="nav-link " href="/" role="button" data-bs-toggle="" aria-expanded="false">Home</a>
                           </li>
                           
                           
                          
                           <li class="nav-item dropdown w-100 w-lg-auto">
                              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Pages</a>
                              <ul class="dropdown-menu">
                                 <li><a class="dropdown-item" href="#">Blog</a></li>
                                 <li><a class="dropdown-item" href="/about-us">About us</a></li>
                                 <li><a class="dropdown-item" href="/contact-us">Contact</a></li>
                              </ul>
                           </li>
                           <li class="nav-item dropdown w-100 w-lg-auto">
                              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Account</a>
                              <ul class="dropdown-menu">
                                 <li><a class="dropdown-item" href="pages/signin.html">Sign in</a></li>
                                 <li><a class="dropdown-item" href="pages/signup.html">Signup</a></li>
                                 <li class="dropdown-submenu dropend">
                                    <a class="dropdown-item dropdown-list-group-item dropdown-toggle" href="#">My Account</a>
                                    <ul class="dropdown-menu">
                                       <li><a class="dropdown-item" href="pages/account-orders.html">Orders</a></li>
                                       <li><a class="dropdown-item" href="pages/account-settings.html">Settings</a></li>
                                       <li><a class="dropdown-item" href="pages/account-address.html">Address</a></li>
                                       <li><a class="dropdown-item" href="pages/account-payment-method.html">Payment Method</a></li>
                                       <li><a class="dropdown-item" href="pages/account-notification.html">Notification</a></li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </nav>
      </div>
      <!-- Modal -->
      <div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-4">
               <div class="modal-header border-0">
                  <h5 class="modal-title fs-3 fw-bold" id="userModalLabel">Sign Up</h5>

                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <form class="needs-validation" novalidate>
                     <div class="mb-3">
                        <label for="fullName" class="form-label">Name</label>
                        <input type="text" class="form-control" id="fullName" placeholder="Enter Your Name" required />
                        <div class="invalid-feedback">Please enter name.</div>
                     </div>
                     <div class="mb-3">
                        <label for="email" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter Email address" required />
                        <div class="invalid-feedback">Please enter email.</div>
                     </div>
                     <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" placeholder="Enter Password" required />
                        <div class="invalid-feedback">Please enter password.</div>
                        <small class="form-text">
                           By Signup, you agree to our
                           <a href="#!">Terms of Service</a>
                           &
                           <a href="#!">Privacy Policy</a>
                        </small>
                     </div>

                     <button type="submit" class="btn btn-primary" type="submit">Sign Up</button>
                  </form>
               </div>
               <div class="modal-footer border-0 justify-content-center">
                  Already have an account?
                  <a href="#">Sign in</a>
               </div>
            </div>
         </div>
      </div>




      <!-- successful adding to cart model  -->

      <!-- Add to Cart Success Modal -->
      <div class="modal fade" id="addToCartModal" tabindex="-1" aria-labelledby="addToCartModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="addToCartModalLabel">
                     <i class="bi bi-check-circle text-success"></i> Added to cart successfully!
                  </h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body text-center">
                  <!-- Product Image -->
                  <img id="modalProductImage" src="" alt="Product Image" class="img-fluid mb-3" style="max-width: 100px;">
                  
                  <!-- Cart Info -->
                  <p>There are <span id="cartItemCount">0</span> items in your cart.</p>
                  <p><strong>Total Price:</strong> <span id="cartTotalPrice">$0.00</span></p>
               </div>
               <div class="modal-footer justify-content-center">
                  <button id="viewCartButton" type="button" class="btn btn-outline-primary" onclick="viewCart()">View Cart</button>
                  <button id="checkoutButton" type="button" class="btn btn-primary" onclick="checkout()">Checkout</button>
               </div>
            </div>
         </div>
      </div>



      <!-- Shop Cart -->

      <!-- Shopping Cart Offcanvas -->
      <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
          <div class="offcanvas-header border-bottom">
              <div class="text-start">
                  <h5 id="offcanvasRightLabel" class="mb-0 fs-4">Shop Cart</h5>
                  <!-- <small>Location in 382480</small> -->
              </div>
              <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
              <div>
                  <!-- Alert for free delivery -->
                  <div id="freeDeliveryAlert" class="alert alert-danger p-2" role="alert" style="display: none;">
                      You’ve got FREE delivery. Start <a href="#!" class="alert-link">checkout now!</a>
                  </div>
                  <!-- Cart Items List -->
                  <ul id="cartItemsList" class="list-group list-group-flush">
                      <!-- Items will be dynamically injected here -->
                  </ul>
                  <!-- Actions -->
                  <div class="d-flex justify-content-between mt-4">
                      <a href="#!" class="btn btn-primary" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close">Continue Shopping</a>
                      <a href="#!" class="btn btn-dark" >Checkout</a>
                  </div>
              </div>
          </div>
      </div>

   


{% block body %}
      <main>
         {% block hero %}
         <section class="mt-8">
             <div class="container">
                 <div class="hero-slider">
                     {% for slide in slides %}
                         <div style="
                             background: url('{{ slide.background_image.url }}') no-repeat; 
                             background-size: {{ slide.background_size }};
                             background-position: {{ slide.background_position }};
                             {% if not slide.background_repeat %} background-repeat: no-repeat; {% endif %}
                             border-radius: 0.5rem;">
                             <div class="ps-lg-12 py-lg-16 col-xxl-5 col-md-7 py-14 px-8 text-xs-center">
                                 {% if slide.badge_text %}
                                     <span class="badge text-bg-warning">{{ slide.badge_text }}</span>
                                 {% endif %}
                                 <h2 class="text-dark display-5 fw-bold mt-4">{{ slide.title }}</h2>
                                 {% if slide.subtitle %}
                                     <h3 class="text-muted">{{ slide.subtitle }}</h3>
                                 {% endif %}
                                 {% if slide.description %}
                                     <p class="lead">{{ slide.description }}</p>
                                 {% endif %}
                                 {% if slide.button_label and slide.button_link %}
                                     <a href="{{ slide.button_link }}" class="btn btn-dark mt-3">
                                         {{ slide.button_label }}
                                         <i class="feather-icon icon-arrow-right ms-1"></i>
                                     </a>
                                 {% endif %}
                             </div>
                         </div>
                     {% endfor %}
                 </div>
             </div>
         </section>

         {% endblock %}
         <!-- Category Section Start-->
         <section class="mb-lg-10 mt-lg-14 my-8">
            <div class="container">
               <div class="row">
                  <div class="col-12 mb-6">
                     <h3 class="mb-0">Featured Categories</h3>
                  </div>
               </div>
               <div class="category-slider">
                  {% for category in trending_categories %}
                  <div class="item">
                     <a href="{{ category.get_absolute_url }}" class="text-decoration-none text-inherit">
                        <div class="card card-product mb-lg-4">
                           <div class="card-body text-center py-8">
                              <img src="{{ category.image.url }}" alt="Grocery Ecommerce Template" class="mb-3 img-fluid" />
                              <div class="text-truncate">{{ category.name }}</div>
                           </div>
                        </div>
                     </a>
                  </div>
                  {% endfor %}
               </div>
            </div>
         </section>
         <!-- Category Section End-->
         <section>
             <div class="container">
                 <div class="row">
                     {% for banner in banners %}
                         <div class="col-12 col-md-6 mb-3 mb-lg-0">
                             <div>
                                 <div
                                     class="py-10 px-8 rounded"
                                     style="
                                         background: url('{{ banner.background_image.url }}') no-repeat;
                                         background-size: {{ banner.background_size }};
                                         background-position: {{ banner.background_position }};
                                         {% if not banner.background_repeat %} background-repeat: no-repeat; {% endif %}
                                     "
                                 >
                                     <div>
                                         <h3 class="fw-bold mb-1">{{ banner.title }}</h3>
                                         {% if banner.description %}
                                             <p class="mb-4">
                                                 {{ banner.description }}
                                                 {% if banner.discount_percentage %}
                                                     <span class="fw-bold">{{ banner.discount_percentage }}%</span>
                                                 {% endif %}
                                             </p>
                                         {% endif %}
                                         {% if banner.button_label and banner.button_link %}
                                             <a href="{{ banner.button_link }}" class="btn btn-dark">{{ banner.button_label }}</a>
                                         {% endif %}
                                     </div>
                                 </div>
                             </div>
                         </div>
                     {% endfor %}
                 </div>
             </div>
         </section>

         <!-- Popular Products Start-->
         <section class="my-lg-14 my-8">
            <div class="container">
               <div class="row">
                  <div class="col-12 mb-6">
                     <h3 class="mb-0">Popular Products</h3>
                  </div>
               </div>

               <div class="row g-4 row-cols-lg-5 row-cols-2 row-cols-md-3">

                  {% for product in latest_products %}
                  <div class="col-12">
                     <div class="card card-product single-product-wrap" id="{{ product.id }}">
                        <div class="card-body">
                           <div class="text-center position-relative">
                              <div class="position-absolute top-0 start-0">
                                 {% if product.discount %}
                                 <span class="badge bg-success">-{{ product.discount }}%</span>
                                 {% endif %}
                              </div>
                              <a href="product/{{ product.slug }}"><img src="{{ product.image.url }}" alt="Grocery Ecommerce Template" class="mb-3 img-fluid" /></a>

                              <div class="card-product-action">
                                 <a href="#!" class="btn-action quick-view-btn" data-id="{{ product.id }}" data-bs-toggle="modal" data-bs-target="#quickViewModal">
                                    <i class="bi bi-eye" data-bs-toggle="tooltip" data-bs-html="true" title="Quick View"></i>
                                 </a>

                                 <a href="#!" class="btn-action wishlist  {% if product.id in wishlist %}bg-success text-white{% endif %}"  data-product-id="{{ product.id }}" data-bs-toggle="tooltip" data-bs-html="true" title="Wishlist"><i class="bi bi-heart"></i></a>

                                 <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Compare"><i class="bi bi-arrow-left-right"></i></a>
                              </div>
                           </div>
                           <div class="text-small mb-1">
                              <a href="#!" class="text-decoration-none text-muted"><small>{{ product.category }}</small></a>
                           </div>
                           <h2 class="fs-6"><a href="product/{{ product.slug }}" class="text-inherit text-decoration-none">{{ product.name }}</a></h2>
                           <!-- <div>
                              
                              <span class="text-muted small">4.5(149)</span>
                           </div> -->
                           <div class="d-flex justify-content-between align-items-center mt-3">
                              <div>
                                 <span class="text-dark">${{ product.new_price }}</span>
                                 {% if product.old_price > product.new_price %}
                                 <span class="text-decoration-line-through text-muted">${{ product.old_price }}</span>
                                 {% endif %}
                              </div>
                              <div class="product-action-1">
                                 <a href="#!" class="btn btn-primary btn-sm">
                                    <svg
                                       xmlns="http://www.w3.org/2000/svg"
                                       width="16"
                                       height="16"
                                       viewBox="0 0 24 24"
                                       fill="none"
                                       stroke="currentColor"
                                       stroke-width="2"
                                       stroke-linecap="round"
                                       stroke-linejoin="round"
                                       class="feather feather-plus">
                                       <line x1="12" y1="5" x2="12" y2="19"></line>
                                       <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add
                                 </a>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>

                  {% endfor %}
              

               </div>
            </div>
         </section>
         <!-- Popular Products End-->
         <section>
            <div class="container">
               <div class="row">
                  <div class="col-md-12 mb-6">
                     <h3 class="mb-0">Daily Best Sells</h3>
                  </div>
               </div>
               <div class="table-responsive-lg pb-6">
                  <div class="row row-cols-lg-4 row-cols-1 row-cols-md-2 g-4 flex-nowrap">
                     <div class="col">
                        <div class="pt-8 px-6 px-xl-8 rounded" style="background: url(assets/images/banner/banner-deal.jpg) no-repeat; background-size: cover; height: 470px">
                           <div>
                              <h3 class="fw-bold text-white">100% Organic Coffee Beans.</h3>
                              <p class="text-white">Get the best deal before close.</p>
                              <a href="#!" class="btn btn-primary">
                                 Shop Now
                                 <i class="feather-icon icon-arrow-right ms-1"></i>
                              </a>
                           </div>
                        </div>
                     </div>
                     <div class="col">
                        <div class="card card-product">
                           <div class="card-body">
                              <div class="text-center position-relative">
                                 <a href="pages/shop-single.html"><img src="assets/images/products/product-img-11.jpg" alt="Grocery Ecommerce Template" class="mb-3 img-fluid" /></a>

                                 <div class="card-product-action">
                                    <a href="#!" class="btn-action" data-bs-toggle="modal" data-bs-target="#quickViewModal">
                                       <i class="bi bi-eye" data-bs-toggle="tooltip" data-bs-html="true" title="Quick View"></i>
                                    </a>
                                    <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Wishlist"><i class="bi bi-heart"></i></a>
                                    <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Compare"><i class="bi bi-arrow-left-right"></i></a>
                                 </div>
                              </div>
                              <div class="text-small mb-1">
                                 <a href="#!" class="text-decoration-none text-muted"><small>Tea, Coffee & Drinks</small></a>
                              </div>
                              <h2 class="fs-6"><a href="pages/shop-single.html" class="text-inherit text-decoration-none">Roast Ground Coffee</a></h2>

                              <div class="d-flex justify-content-between align-items-center mt-3">
                                 <div>
                                    <span class="text-dark">$13</span>
                                    <span class="text-decoration-line-through text-muted">$18</span>
                                 </div>
                                 <div>
                                    <small class="text-warning">
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-half"></i>
                                    </small>
                                    <span><small>4.5</small></span>
                                 </div>
                              </div>
                              <div class="d-grid mt-2">
                                 <a href="#!" class="btn btn-primary">
                                    <svg
                                       xmlns="http://www.w3.org/2000/svg"
                                       width="16"
                                       height="16"
                                       viewBox="0 0 24 24"
                                       fill="none"
                                       stroke="currentColor"
                                       stroke-width="2"
                                       stroke-linecap="round"
                                       stroke-linejoin="round"
                                       class="feather feather-plus">
                                       <line x1="12" y1="5" x2="12" y2="19"></line>
                                       <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add to cart
                                 </a>
                              </div>
                              <div class="d-flex justify-content-start text-center mt-3">
                                 <div class="deals-countdown w-100" data-countdown="2028/10/10 00:00:00"></div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col">
                        <div class="card card-product">
                           <div class="card-body">
                              <div class="text-center position-relative">
                                 <a href="pages/shop-single.html"><img src="assets/images/products/product-img-12.jpg" alt="Grocery Ecommerce Template" class="mb-3 img-fluid" /></a>
                                 <div class="card-product-action">
                                    <a href="#!" class="btn-action" data-bs-toggle="modal" data-bs-target="#quickViewModal">
                                       <i class="bi bi-eye" data-bs-toggle="tooltip" data-bs-html="true" title="Quick View"></i>
                                    </a>
                                    <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Wishlist"><i class="bi bi-heart"></i></a>
                                    <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Compare"><i class="bi bi-arrow-left-right"></i></a>
                                 </div>
                              </div>
                              <div class="text-small mb-1">
                                 <a href="#!" class="text-decoration-none text-muted"><small>Fruits & Vegetables</small></a>
                              </div>
                              <h2 class="fs-6"><a href="pages/shop-single.html" class="text-inherit text-decoration-none">Crushed Tomatoes</a></h2>
                              <div class="d-flex justify-content-between align-items-center mt-3">
                                 <div>
                                    <span class="text-dark">$13</span>
                                    <span class="text-decoration-line-through text-muted">$18</span>
                                 </div>
                                 <div>
                                    <small class="text-warning">
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-half"></i>
                                    </small>
                                    <span><small>4.5</small></span>
                                 </div>
                              </div>
                              <div class="d-grid mt-2">
                                 <a href="#!" class="btn btn-primary">
                                    <svg
                                       xmlns="http://www.w3.org/2000/svg"
                                       width="16"
                                       height="16"
                                       viewBox="0 0 24 24"
                                       fill="none"
                                       stroke="currentColor"
                                       stroke-width="2"
                                       stroke-linecap="round"
                                       stroke-linejoin="round"
                                       class="feather feather-plus">
                                       <line x1="12" y1="5" x2="12" y2="19"></line>
                                       <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add to cart
                                 </a>
                              </div>
                              <div class="d-flex justify-content-start text-center mt-3 w-100">
                                 <div class="deals-countdown w-100" data-countdown="2028/12/9 00:00:00"></div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col">
                        <div class="card card-product">
                           <div class="card-body">
                              <div class="text-center position-relative">
                                 <a href="pages/shop-single.html"><img src="assets/images/products/product-img-13.jpg" alt="Grocery Ecommerce Template" class="mb-3 img-fluid" /></a>
                                 <div class="card-product-action">
                                    <a href="#!" class="btn-action" data-bs-toggle="modal" data-bs-target="#quickViewModal">
                                       <i class="bi bi-eye" data-bs-toggle="tooltip" data-bs-html="true" title="Quick View"></i>
                                    </a>
                                    <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Wishlist"><i class="bi bi-heart"></i></a>
                                    <a href="#!" class="btn-action" data-bs-toggle="tooltip" data-bs-html="true" title="Compare"><i class="bi bi-arrow-left-right"></i></a>
                                 </div>
                              </div>
                              <div class="text-small mb-1">
                                 <a href="#!" class="text-decoration-none text-muted"><small>Fruits & Vegetables</small></a>
                              </div>
                              <h2 class="fs-6"><a href="pages/shop-single.html" class="text-inherit text-decoration-none">Golden Pineapple</a></h2>
                              <div class="d-flex justify-content-between align-items-center mt-3">
                                 <div>
                                    <span class="text-dark">$13</span>
                                    <span class="text-decoration-line-through text-muted">$18</span>
                                 </div>
                                 <div>
                                    <small class="text-warning">
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-fill"></i>
                                       <i class="bi bi-star-half"></i>
                                    </small>
                                    <span><small>4.5</small></span>
                                 </div>
                              </div>
                              <div class="d-grid mt-2">
                                 <a href="#!" class="btn btn-primary">
                                    <svg
                                       xmlns="http://www.w3.org/2000/svg"
                                       width="16"
                                       height="16"
                                       viewBox="0 0 24 24"
                                       fill="none"
                                       stroke="currentColor"
                                       stroke-width="2"
                                       stroke-linecap="round"
                                       stroke-linejoin="round"
                                       class="feather feather-plus">
                                       <line x1="12" y1="5" x2="12" y2="19"></line>
                                       <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add to cart
                                 </a>
                              </div>
                              <div class="d-flex justify-content-start text-center mt-3">
                                 <div class="deals-countdown w-100" data-countdown="2028/11/11 00:00:00"></div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </section>
         <section class="my-lg-14 my-8">
            <div class="container">
               <div class="row">
                  <div class="col-md-6 col-lg-3">
                     <div class="mb-8 mb-xl-0">
                        <div class="mb-6"><img src="assets/images/icons/clock.svg" alt="" /></div>
                        <h3 class="h5 mb-3">10 minute grocery now</h3>
                        <p>Get your order delivered to your doorstep at the earliest from FreshCart pickup stores near you.</p>
                     </div>
                  </div>
                  <div class="col-md-6 col-lg-3">
                     <div class="mb-8 mb-xl-0">
                        <div class="mb-6"><img src="assets/images/icons/gift.svg" alt="" /></div>
                        <h3 class="h5 mb-3">Best Prices & Offers</h3>
                        <p>Cheaper prices than your local supermarket, great cashback offers to top it off. Get best pricess & offers.</p>
                     </div>
                  </div>
                  <div class="col-md-6 col-lg-3">
                     <div class="mb-8 mb-xl-0">
                        <div class="mb-6"><img src="assets/images/icons/package.svg" alt="" /></div>
                        <h3 class="h5 mb-3">Wide Assortment</h3>
                        <p>Choose from 5000+ products across food, personal care, household, bakery, veg and non-veg & other categories.</p>
                     </div>
                  </div>
                  <div class="col-md-6 col-lg-3">
                     <div class="mb-8 mb-xl-0">
                        <div class="mb-6"><img src="assets/images/icons/refresh-cw.svg" alt="" /></div>
                        <h3 class="h5 mb-3">Easy Returns</h3>
                        <p>
                           Not satisfied with a product? Return it at the doorstep & get a refund within hours. No questions asked
                           <a href="#!">policy</a>
                           .
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </section>
      </main>
{% endblock %}

      <!-- Modal -->
      <div class="modal fade" id="quickViewModal" tabindex="-1" aria-hidden="true">
         <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-body p-8">
                  <div class="position-absolute top-0 end-0 me-3 mt-3">
                     <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="row">
                     <div class="col-lg-6">
                        <!-- Product images -->
                        <div class="product productModal" id="productModal">
                           
                        </div>

                        <!-- product tool -->
                        <div class="product-tools">
                           <div class="thumbnails row g-3" id="productModalThumbnails">

                           </div>
                        </div>
                     </div>





                     <div class="col-lg-6">
                        <div class="ps-lg-8 mt-6 mt-lg-0">
                           <h2 class="modal-title h1 mb-1"></h2>
                           <div class="fs-4">
                              <span class="fw-bold text-dark">$0.00</span>
                              <span class="text-decoration-line-through text-muted"></span>
                              <span><small class="fs-6 ms-2 text-danger"></small></span>
                           </div>
                           <hr class="my-6" />
                           <p class="description"></p>
                           <p><strong>Availability:</strong> <span class="availability"></span></p>
                           <p><strong>Shipping:</strong> <span class="shipping-info"></span></p>
                           <!-- Add to Cart button -->
                           <button type="button" class="btn btn-primary">
                              <i class="feather-icon icon-shopping-bag me-2"></i>Add to cart
                           </button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <!-- footer -->
      <footer class="footer">
         <div class="container">
            <div class="row g-4 py-4">
               <div class="col-12 col-md-12 col-lg-4">
                      <h6 class="mb-4">Categories</h6>
                      <div class="row">
                          <!-- Left Column -->
                          <div class="col-6">
                              <ul class="nav flex-column">
                                  {% for category in left_categories %}
                                  <li class="nav-item mb-2">
                                      <a href="{% url 'category_detail' category.slug %}" class="nav-link">
                                          <i class="fas {{ category.icon }}"></i> {{ category.name }}
                                      </a>
                                  </li>
                                  {% endfor %}
                              </ul>
                          </div>
                          <!-- Right Column -->
                          <div class="col-6">
                              <ul class="nav flex-column">
                                  {% for category in right_categories %}
                                  <li class="nav-item mb-2">
                                      <a href="{% url 'category_detail' category.slug %}" class="nav-link">
                                          <i class="fas {{ category.icon }}"></i> {{ category.name }}
                                      </a>
                                  </li>
                                  {% endfor %}
                              </ul>
                          </div>
                      </div>
                  </div>

               <div class="col-12 col-md-12 col-lg-8">
                  <div class="row g-4">
                     <div class="col-6 col-sm-6 col-md-3">
                        <h6 class="mb-4">Get to know us</h6>
                        <!-- list -->
                        <ul class="nav flex-column">
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Company</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">About</a></li>
                           <li class="nav-item mb-2"><a href="#1" class="nav-link">Blog</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Help Center</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Our Value</a></li>
                        </ul>
                     </div>
                     <div class="col-6 col-sm-6 col-md-3">
                        <h6 class="mb-4">For Consumers</h6>
                        <ul class="nav flex-column">
                           <!-- list -->
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Payments</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Shipping</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Product Returns</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">FAQ</a></li>
                           <li class="nav-item mb-2"><a href="pages/shop-checkout.html" class="nav-link">Shop Checkout</a></li>
                        </ul>
                     </div>
                     <div class="col-6 col-sm-6 col-md-3">
                        <h6 class="mb-4">Become a Shopper</h6>
                        <ul class="nav flex-column">
                           <!-- list -->
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Shopper Opportunities</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Become a Shopper</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Earnings</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Ideas & Guides</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">New Retailers</a></li>
                        </ul>
                     </div>
                     <div class="col-6 col-sm-6 col-md-3">
                        <h6 class="mb-4">Freshcart programs</h6>
                        <ul class="nav flex-column">
                           <!-- list -->
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Freshcart programs</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Gift Cards</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Promos & Coupons</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Freshcart Ads</a></li>
                           <li class="nav-item mb-2"><a href="#!" class="nav-link">Careers</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <!-- <div class="border-top py-4">
               <div class="row align-items-center">
                  <div class="col-lg-5 text-lg-start text-center mb-2 mb-lg-0">
                     <ul class="list-inline mb-0">
                        <li class="list-inline-item text-dark">Payment Partners</li>
                        <li class="list-inline-item">
                           <a href="#!"><img src="assets/images/payment/amazonpay.svg" alt="" /></a>
                        </li>
                        <li class="list-inline-item">
                           <a href="#!"><img src="assets/images/payment/american-express.svg" alt="" /></a>
                        </li>
                        <li class="list-inline-item">
                           <a href="#!"><img src="assets/images/payment/mastercard.svg" alt="" /></a>
                        </li>
                        <li class="list-inline-item">
                           <a href="#!"><img src="assets/images/payment/paypal.svg" alt="" /></a>
                        </li>
                        <li class="list-inline-item">
                           <a href="#!"><img src="assets/images/payment/visa.svg" alt="" /></a>
                        </li>
                     </ul>
                  </div>
                  <div class="col-lg-7 mt-4 mt-md-0">
                     <ul class="list-inline mb-0 text-lg-end text-center">
                        <li class="list-inline-item mb-2 mb-md-0 text-dark">Get deliveries with FreshCart</li>
                        <li class="list-inline-item ms-4">
                           <a href="#!"><img src="assets/images/appbutton/appstore-btn.svg" alt="" style="width: 140px" /></a>
                        </li>
                        <li class="list-inline-item">
                           <a href="#!"><img src="assets/images/appbutton/googleplay-btn.svg" alt="" style="width: 140px" /></a>
                        </li>
                     </ul>
                  </div>
               </div>
            </div> -->
            <div class="border-top py-4">
               <div class="row align-items-center">
                  <div class="col-md-6">
                     <span class="small text-muted">
                        © 2022
                        <span id="copyright">
                           -
                           <script>
                              document.getElementById("copyright").appendChild(document.createTextNode(new Date().getFullYear()));
                           </script>
                        </span>
                        IHomeluxuryMall. All rights reserved. Powered by
                        <a href="https://linkedin.com/in/wisteen">wisteen</a>
                        .
                     </span>
                  </div>
                  <div class="col-md-6">
                     <ul class="list-inline text-md-end mb-0 small mt-3 mt-md-0">
                        <li class="list-inline-item text-muted">Follow us on</li>
                        {% if web_page.facebook_link %}
                        <li class="list-inline-item me-1">
                           <a href="{{ web_page.facebook_link }}" class="btn btn-xs btn-social btn-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16">
                                 <path
                                    d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" />
                              </svg>
                           </a>
                        </li>
                        {% endif %}

                        {% if web_page.twitter_link %}
                        <li class="list-inline-item me-1">
                           <a href="{{ web_page.twitter_link }}" class="btn btn-xs btn-social btn-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter" viewBox="0 0 16 16">
                                 <path
                                    d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" />
                              </svg>
                           </a>
                        </li>
                        {% endif %}

                        {% if web_page.instagram_link %}
                        <li class="list-inline-item">
                           <a href="{{ web_page.instagram_link }}" class="btn btn-xs btn-social btn-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-instagram" viewBox="0 0 16 16">
                                 <path
                                    d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z" />
                              </svg>
                           </a>
                        </li>
                        {% endif %}
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </footer>

      <!-- Javascript-->

      <!-- Libs JS -->

            <script>
               document.addEventListener('DOMContentLoaded', function() {
                   const quickViewButtons = document.querySelectorAll('.quick-view-btn');

                   quickViewButtons.forEach(button => {
                       button.addEventListener('click', function() {
                           const productId = this.getAttribute('data-id');
                           
                           fetch(`/product/${productId}/details/`)
                               .then(response => response.json())
                               .then(data => {
                                   // Populate modal with product data
                                   document.querySelector('#quickViewModal .modal-title').innerText = data.name;
                                   document.querySelector('#quickViewModal .fs-4 .fw-bold').innerText = `$${data.new_price}`;
                                   document.querySelector('#quickViewModal .fs-4 .text-decoration-line-through').innerText = `$${data.old_price}`;
                                   document.querySelector('#quickViewModal .fs-4 .fs-6').innerText = `${data.discount}% Off`;
                                   document.querySelector('#quickViewModal .description').innerText = data.description;
                                   document.querySelector('#quickViewModal .availability').innerText = data.availability;
                                   document.querySelector('#quickViewModal .shipping-info').innerText = data.shipping_info;

                                   // Update product images
                                   const imageContainer = document.querySelector('#quickViewModal .productModal');
                                   const productToolContainer = document.querySelector('#quickViewModal .product-tools #productModalThumbnails');
                                   imageContainer.innerHTML = '';  // Clear existing images
                                   productToolContainer.innerHTML = '';  // Clear existing images
                                   imageContainer.insertAdjacentHTML("afterbegin", `

                                    <div class="zoom" onmousemove="zoom(event)" style="background-image: url(${data.product_main_img})">
                                       <!-- img -->
                                       <img src="${data.product_main_img}" alt="" />
                                    </div>
                                    `)
                                   productToolContainer.insertAdjacentHTML("afterbegin", `
                                             <div class="col-3" class="tns-nav-active">
                                             <div class="thumbnails-img">
                                                <!-- img -->
                                                <img src="${data.product_main_img}" alt="" />
                                             </div>
                                          </div>
                                          `);
                                   data.image_urls.forEach(url => {
                                       const imgDiv = document.createElement('div');
                                       imgDiv.className = 'zoom';
                                       imgDiv.setAttribute('onmousemove', 'zoom(event)');
                                       imgDiv.style.backgroundImage = `url(${url})`;
                                       imgDiv.innerHTML = `<img src="${url}" alt="${data.name}" />`;
                                       imageContainer.appendChild(imgDiv);
                                       const col_3 = document.createElement('div')
                                       col_3.className = 'col-3';
                                       col_3.innerHTML = `
                                          <div class="thumbnails-img">
                                          <!-- img -->
                                             <img src="${url}" alt="" />
                                          </div>
                                       `
                                       productToolContainer.appendChild(col_3)
                                       
                                       // imgEle.src = 
                                   });
                               })
                               .catch(error => console.error('Error fetching product details:', error));
                       });
                   });
               });
         </script>
      <!-- <script src="./assets/libs/jquery/dist/jquery.min.js"></script> -->
      <script src="{% static 'assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
      <script src="{% static 'assets/libs/simplebar/dist/simplebar.min.js' %}"></script>

      <!-- Theme JS -->
      <script src="{% static 'assets/js/theme.min.js' %}"></script>

      <script src="{% static 'assets/js/vendors/jquery.min.js' %}"></script>
      <script src="{% static 'assets/js/vendors/countdown.js' %}"></script>
      <script src="{% static 'assets/libs/slick-carousel/slick/slick.min.js' %}"></script>
      <script src="{% static 'assets/js/vendors/slick-slider.js' %}"></script>
      <script src="{% static 'assets/libs/tiny-slider/dist/min/tiny-slider.js' %}"></script>
      <script src="{% static 'assets/js/vendors/tns-slider.js' %}"></script>
      <script src="{% static 'assets/js/vendors/zoom.js' %}"></script>

      <script>
        document.addEventListener('DOMContentLoaded', function() {
          document.querySelectorAll('.product-action-1 a').forEach(button => {
            button.addEventListener('click', function(event) {
              const productId = this.closest('.single-product-wrap').id;

              fetch(`/add-to-cart/${productId}/`, {
                method: 'POST',
                headers: {
                  'X-CSRFToken': '{{ csrf_token }}',
                },
              })
              .then(response => response.json())
              .then(data => {
                if (data.error) {
                  alert(data.error);
                } else {
                  // console.log(data)
                   // Set product image
                  document.getElementById('modalProductImage').src = data.product_image;
                  
                  // Set cart item count and total price
                  document.getElementById('cartItemCount').textContent = data.total_items;
                  document.getElementById('cartTotalPrice').textContent = `$${data.total_cost.toFixed(2)}`;

                  let addToCartModal = new bootstrap.Modal(document.getElementById('addToCartModal'));
                  addToCartModal.show();
                  fetchCartData()
                  // document.querySelector('#cart-total-items').innerText = data.total_items;
                  // document.querySelector('#cart-total-cost').innerText = `$${data.total_cost.toFixed(2)}`;
                }
              })
              .catch(error => console.error('Error:', error));
            });
          });
        });
      </script>

<script type="text/javascript">
    const csrftoken = '{{ csrf_token }}';

    // Function to fetch and update the cart data
    function fetchCartData() {
        fetch("/cart/data/")
            .then(response => response.json())
            .then(data => {
                updateCartUI(data);

            })
            .catch(error => console.error("Error fetching cart data:", error));
    }

    // Function to update the cart UI
    function updateCartUI(cartData) {
        const offcanvasElement = document.getElementById("offcanvasRight");
        const cartList = offcanvasElement.querySelector(".list-group");
        const totalItemsElement = offcanvasElement.querySelector("#totalItems");
        const totalCostElement = offcanvasElement.querySelector("#totalCost");
        const cartIcon = document.getElementById("cartIconBarge")

        // Clear existing cart items
        cartList.innerHTML = "";
        cartIcon.innerHTML ="";
        cartIcon.innerHTML =cartData.total_items;

        // console.log(cartData)
        // Check if the cart has items
        if (cartData.cart_items.length === 0) {
            cartList.innerHTML = "<li class='list-group-item'>Your cart is empty.</li>";
            totalItemsElement.textContent = "0 items";
            totalCostElement.textContent = "$0.00";
            return;
        }

        // Loop through cart items and create HTML for each item
        cartData.cart_items.forEach(item => {
            const cartItemHTML = `
                <li class="list-group-item py-3 ps-0 border-top">
                    <div class="row align-items-center">
                        <div class="col-6 col-md-6 col-lg-7">
                            <div class="d-flex">
                                <img src="${item.image_url}" alt="${item.product_name}" class="icon-shape icon-xxl" />
                                <div class="ms-3">
                                    <a href="/product/${item.slug}/" class="text-inherit">
                                        <h6 class="mb-0">${item.product_name}</h6>
                                    </a>
                                    <span><small class="text-muted">$${item.price} each x ${item.quantity}</small></span>
                                    <div class="mt-2 small lh-1">
                                        <a href="#!" class="text-decoration-none text-inherit" onclick="removeItemFromCart(${item.id})">
                                            <span class="me-1 align-text-bottom">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 text-success">
                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                                </svg>
                                            </span>
                                            <span class="text-muted">Remove</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-4 col-md-3 col-lg-3">
                            <div class="input-group input-spinner">

                                <input type="button" value="-" class="button-minus btn btn-sm" data-item-id="${item.id}" onclick="updateQuantity(${item.id}, -1)" />

                                <input type="number" step="1" max="10" value="${item.quantity}" name="quantity" class="quantity-field  form-input" data-item-id="${item.id}" onchange="updateQuantity(${item.id}, this.value)" />

                                <input type="button" value="+" class="button-plus btn btn-sm" data-item-id="${item.id}" onclick="updateQuantity(${item.id}, 1)" />

                            </div>
                        </div>
                        <div class="col-2 text-lg-end text-start text-md-end col-md-2">
                            <span class="fw-bold">$${(item.price * item.quantity).toFixed(2)}</span>
                        </div>
                    </div>
                </li>
            `;
            cartList.insertAdjacentHTML("beforeend", cartItemHTML);
        });

        // Update total items and cost
        // totalItemsElement.textContent = `${cartData.total_items} items`;
        // totalCostElement.textContent = `$${cartData.total_cost.toFixed(2)}`;
    }

    // Function to remove an item from the cart
    async function removeItemFromCart(itemId) {
        fetch(`/cart/remove/${itemId}/`, {
            method: "DELETE",
            headers: {
                "X-CSRFToken": csrftoken, // Include CSRF token in the header
                "Content-Type": "application/json"
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                fetchCartData();  // Refresh cart data after removing item
            } else {
                console.error("Failed to remove item:", data.message);
            }
        })
        .catch(error => console.error("Error removing item:", error));
    }


// Function to update the quantity of an item in the cart
function updateQuantity(itemId, quantityChange) {
    // Fetch the quantity input field for the item
    const quantityInput = document.querySelector(`input[type="number"][data-item-id="${itemId}"]`);

    let currentQuantity = parseInt(quantityInput.value);

    // Calculate the new quantity
    const newQuantity = currentQuantity + quantityChange;
    console.log(quantityChange, currentQuantity)
    // Ensure the new quantity is at least 1
    if (newQuantity < 1) {
        alert("Quantity cannot be less than 1.");
        return;
    }

    // Send the new quantity to the backend
    fetch(`/cart/update/${itemId}/`, {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": csrftoken, // Include CSRF token
        },
        body: JSON.stringify({ quantity: newQuantity }),
    })
        .then((response) => response.json())
        .then((data) => {
            if (data.success) {
                // Update the quantity field and fetch updated cart data
                quantityInput.value = newQuantity;
                fetchCartData();
            } else {
                // Handle failure (e.g., insufficient stock)
                alert(data.message || "Failed to update quantity.");
            }
        })
        .catch((error) => {
            console.error("Error updating quantity:", error);
            alert("An error occurred. Please try again.");
        });
}



    // Initial cart data fetch
    document.addEventListener("DOMContentLoaded", function () {
        fetchCartData();
    });
</script>


<script type="text/javascript">
   
document.addEventListener("DOMContentLoaded", function () {
    // Create a notification element
    const notification = document.createElement("div");
    notification.style.position = "fixed";
    notification.style.bottom = "20px";
    notification.style.right = "20px";
    notification.style.backgroundColor = "#28a745"; // Green background
    notification.style.color = "white";
    notification.style.padding = "10px 20px";
    notification.style.borderRadius = "5px";
    notification.style.boxShadow = "0 2px 10px rgba(0, 0, 0, 0.2)";
    notification.style.zIndex = "1000";
    notification.style.display = "none";
    document.body.appendChild(notification);

    function showNotification(message) {
        notification.textContent = message;
        notification.style.display = "block";
        setTimeout(() => {
            notification.style.display = "none";
        }, 3000); // Hide after 3 seconds
    }

    document.querySelectorAll(".wishlist").forEach((button) => {
        button.addEventListener("click", function (event) {
            event.preventDefault();

            const productId = this.dataset.productId; // Assuming `data-product-id` is set

            fetch(`/wishlist/toggle/${productId}/`, {
                method: "POST",
                headers: {
                    "X-CSRFToken": csrftoken,
                    "Content-Type": "application/json",
                },
            })
                .then((response) => response.json())
                .then((data) => {
                    if (data.success) {
                        if (data.action === "added") {
                            this.classList.add("bg-success", "text-white"); // Highlight active wishlist
                            showNotification("Added to wishlist!");
                            fetchWishlistCount()
                        } else if (data.action === "removed") {
                            this.classList.remove("bg-success", "text-white");
                            showNotification("Removed from wishlist!");
                            fetchWishlistCount()
                        }
                    } else {
                        console.error("Failed to update wishlist:", data.error);
                        showNotification("Failed to update wishlist.");
                    }
                })
                .catch((error) => {
                    console.error("Error toggling wishlist:", error);
                    showNotification("An error occurred. Please try again.");
                });
        });
    });
});



</script>


<script>
    // Function to fetch and update the wishlist count
    function fetchWishlistCount() {
        fetch("/wishlist/count/")
            .then(response => response.json())
            .then(data => {
                const wishlistCountElement = document.getElementById("wishlistCount");
                if (wishlistCountElement) {
                    wishlistCountElement.textContent = data.total_products; // Update the count
                }
            })
            .catch(error => console.error("Error fetching wishlist count:", error));
    }

    // Call fetchWishlistCount periodically or after wishlist actions
    document.addEventListener("DOMContentLoaded", function () {
        // Initial fetch
        fetchWishlistCount();
        loadWishlist();
        // Example: Re-fetch the count after toggling wishlist items
        document.querySelectorAll(".wishlist").forEach(button => {
            button.addEventListener("click", function () {
                fetchWishlistCount();
            });
        });
    });
</script>

<script>
        document.addEventListener('DOMContentLoaded', function () {
            // Select all elements with the data-star attribute
            const starContainers = document.querySelectorAll('.star-container');

            starContainers.forEach(container => {
                // Get the star rating from the data-star attribute
                const starRating = parseFloat(container.getAttribute('data-star'));

                // Calculate the percentage for the width of filled stars
                const starPercentage = (starRating / 5) * 100;

                // Set the width to the filled stars
                container.style.setProperty('--star-width', `${starPercentage}%`);
            });
        });
</script>
<script>
$(document).ready(function() {
    $('.star-rating .bi-star-fill').on('click', function() {
        var rating = $(this).data('value');
        $('#rating-value').val(rating);

        // Update the star selection
        $('.star-rating .bi-star-fill').removeClass('selected');
        $(this).addClass('selected');
        $(this).prevAll().addClass('selected');
    });
});
</script>
   </body>



</html>
